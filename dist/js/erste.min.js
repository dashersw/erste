(function(global){var h,k="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},l="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function n(){n=function(){};l.Symbol||(l.Symbol=aa)}var ba=0;function aa(a){return"jscomp_symbol_"+(a||"")+ba++}
function q(){n();var a=l.Symbol.iterator;a||(a=l.Symbol.iterator=l.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&k(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return r(this)}});q=function(){}}function r(a){var b=0;return ca(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function ca(a){q();a={next:a};a[l.Symbol.iterator]=function(){return this};return a}function t(a){q();var b=a[Symbol.iterator];return b?b.call(a):r(a)}
function da(a){if(!(a instanceof Array)){a=t(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}function v(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}for(var w=l,x=["Promise"],y=0;y<x.length-1;y++){var z=x[y];z in w||(w[z]={});w=w[z]}
var A=x[x.length-1],B=w[A],C=function(){function a(a){this.o=0;this.j=void 0;this.a=[];var b=this.f();try{a(b.resolve,b.reject)}catch(g){b.reject(g)}}function b(){this.a=null}if(B)return B;b.prototype.b=function(a){this.a||(this.a=[],this.g());this.a.push(a)};b.prototype.g=function(){var a=this;this.f(function(){a.s()})};var c=l.setTimeout;b.prototype.f=function(a){c(a,0)};b.prototype.s=function(){for(;this.a&&this.a.length;){var a=this.a;this.a=[];for(var b=0;b<a.length;++b){var c=a[b];delete a[b];
try{c()}catch(m){this.j(m)}}}this.a=null};b.prototype.j=function(a){this.f(function(){throw a;})};a.prototype.f=function(){function a(a){return function(e){c||(c=!0,a.call(b,e))}}var b=this,c=!1;return{resolve:a(this.ca),reject:a(this.g)}};a.prototype.ca=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.Da(b);else{var c;a:switch(typeof b){case "object":c=null!=b;break a;case "function":c=!0;break a;default:c=!1}c?this.U(b):this.s(b)}};
a.prototype.U=function(a){var b=void 0;try{b=a.then}catch(g){this.g(g);return}"function"==typeof b?this.La(b,a):this.s(a)};a.prototype.g=function(a){this.G(2,a)};a.prototype.s=function(a){this.G(1,a)};a.prototype.G=function(a,b){if(0!=this.o)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.o);this.o=a;this.j=b;this.H()};a.prototype.H=function(){if(this.a){for(var a=this.a,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.a=null}};var d=new b;a.prototype.Da=function(a){var b=
this.f();a.b(b.resolve,b.reject)};a.prototype.La=function(a,b){var c=this.f();try{a.call(b,c.resolve,c.reject)}catch(m){c.reject(m)}};a.prototype.then=function(b,c){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(oa){f(oa)}}:b}var e,f,u=new a(function(a,b){e=a;f=b});this.b(d(b,e),d(c,f));return u};a.prototype.catch=function(a){return this.then(void 0,a)};a.prototype.b=function(a,b){function c(){switch(e.o){case 1:a(e.j);break;case 2:b(e.j);break;default:throw Error("Unexpected state: "+
e.o);}}var e=this;this.a?this.a.push(function(){d.b(c)}):d.b(c)};a.resolve=function(b){return b instanceof a?b:new a(function(a){a(b)})};a.reject=function(b){return new a(function(a,c){c(b)})};a.b=function(b){return new a(function(c,d){for(var e=t(b),f=e.next();!f.done;f=e.next())a.resolve(f.value).b(c,d)})};a.a=function(b){var c=t(b),d=c.next();return d.done?a.resolve([]):new a(function(b,e){function f(a){return function(c){g[a]=c;m--;m||b(g)}}var g=[],m=0;do g.push(void 0),m++,a.resolve(d.value).b(f(g.length-
1),e),d=c.next();while(!d.done)})};a.$jscomp$new$AsyncExecutor=function(){return new b};return a}();C!=B&&null!=C&&k(w,A,{configurable:!0,writable:!0,value:C});var ea=this;function D(a,b){a=a.split(".");var c=ea;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]?c=c[d]:c=c[d]={}:c[d]=b};function fa(a){a%=360;return 0>360*a?a+360:a}function E(a,b,c){return a+c*(b-a)};var ga=navigator.userAgent.match(/iPhone/i)&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);function F(a){this.el=a||document.body;this.a=this.J=!1;this.f=0;this.b=[];this.el.addEventListener("touchstart",this.s.bind(this),!1);this.el.addEventListener("touchmove",this.j.bind(this),!1);this.el.addEventListener("touchend",this.g.bind(this),!1)}F.prototype.s=function(a){this.a=this.J=!0;this.f=(new Date).getTime();var b=a.changedTouches[0];this.b=[a.timeStamp,b.pageX,b.pageY]};
F.prototype.j=function(a){var b=this.b,c=a.changedTouches[0];if(20<Math.abs(c.pageX-b[1])||20<Math.abs(c.pageY-b[2]))this.J=!1;if(this.a)if(b.push(a.timeStamp,c.pageX,c.pageY),+new Date>b[0]+100)this.a=!1;else{var d=a.timeStamp,b=b.filter(function(a,b,c){return c[b-b%3]>d-250});1>=b.length/3||60>Math.pow(b[1]-b[b.length-2],2)+Math.pow(b[2]-b[b.length-1],2)||(c=fa(180*Math.atan2(b[b.length-1]-b[2],b[b.length-2]-b[1])/Math.PI),b="swipeRight",45<c&&135>c?b="swipeDown":135<c&&225>c?b="swipeLeft":225<
c&&315>c&&(b="swipeUp"),(c=document.createEvent("Event"))&&c.initEvent(b,!0,!0),a.target.dispatchEvent(c),this.a=!1)}};F.prototype.g=function(a){if(this.J){var b=this.b,c=a.changedTouches[0];if(20<Math.abs(c.pageX-b[1])||20<Math.abs(c.pageY-b[2]))this.J=!1;else{var d=(new Date).getTime()-this.f;(b=document.createEvent("Event"))&&b.initEvent(800<d?"longTap":"tap",!0,!0);b&&(b.target=a.target);a=a.target;ga&&(a=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset));a.dispatchEvent(b)}}};var ha=Math.floor(2147483648*Math.random());var G={},H={},ia,ja="click mouseover mouseout mousemove mousedown mouseup scroll keyup keypress focus touchstart touchmove touchend tap longtap doubletap press pan swipe swipeTop swipeRight swipeBottom swipeLeft".split(" ");function ka(){ja.forEach(function(a){return document.body.addEventListener(a,la)});ia=new F;(new MutationObserver(function(){for(var a in H)H[a].render(),delete H[a]})).observe(document.body,{childList:!0,subtree:!0})}
document.body?ka():document.addEventListener("DOMContentLoaded",ka);var ma=function(){var a=document.createElement("div");return function(b){a.innerHTML=b.trim();return a.removeChild(a.firstChild)}}();function na(a){var b=a,c=[],d,e;if(e=b.Ka)return e.split(",").forEach(function(a){return c.push(G[a])}),c;e=[];do if(d=G[b.id])c.push(d),e.push(b.id);while(b=b.parentNode);a.Ka=e.join(",");return c}
function la(a){a.w=a.target;var b=na(a.target),c=!1;do{if(c)break;a.targetEl=a.w;for(var c=b,d=a,e=!1,f=0;f<c.length;f++){var g=c[f],m=g&&g.events&&g.events[d.type];if(m){var p=Object.keys(m);if(!1===pa(g,d,m,p)){e=!0;break}}}c=e}while((a.w=a.w.parentNode)&&a.w!=document.body)}function pa(a,b,c,d){var e=!0;d.forEach(function(d){b.w.matches&&b.w.matches(d)&&(e=c[d].call(a,b,G[b.w.id]))});return e}var qa={get la(){return ia}};/*
 EventEmitter2
 https://github.com/hij1nx/EventEmitter2

 Copyright (c) 2013 hij1nx
 Licensed under the MIT license.
*/
var ra=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};function I(){this.a={};this.g&&sa.call(this,this.g)}function sa(a){a?(this.g=a,a.C&&(this.C=a.C),this.a.v=void 0!==a.v?a.v:10,a.A&&(this.A=a.A),a.I&&(this.a.I=a.I),a.X&&(this.X=a.X),this.A&&(this.f={})):this.a.v=10}
function ta(a,b){this.X?console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit. Event name: %s.",a,b):console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",a);console.trace&&console.trace()}function J(a){this.a={};this.X=this.I=!1;sa.call(this,a)}
function K(a,b,c,d){if(!c)return[];var e=[],f,g,m,p;m=b.length;p=b[d];var u=b[d+1];if(d===m&&c.h){if("function"===typeof c.h)a&&a.push(c.h);else for(b=0,d=c.h.length;b<d;b++)a&&a.push(c.h[b]);return[c]}if("*"===p||"**"===p||c[p]){if("*"===p){for(f in c)"_listeners"!==f&&c.hasOwnProperty(f)&&(e=e.concat(K(a,b,c[f],d+1)));return e}if("**"===p){(p=d+1===m||d+2===m&&"*"===u)&&c.h&&(e=e.concat(K(a,b,c,m)));for(f in c)"_listeners"!==f&&c.hasOwnProperty(f)&&("*"===f||"**"===f?(c[f].h&&!p&&(e=e.concat(K(a,
b,c[f],m))),e=e.concat(K(a,b,c[f],d))):e=f===u?e.concat(K(a,b,c[f],d+2)):e.concat(K(a,b,c[f],d)));return e}e=e.concat(K(a,b,c[p],d+1))}(g=c["*"])&&K(a,b,g,d+1);if(c=c["**"])if(d<m)for(f in c.h&&K(a,b,c,m),c)"_listeners"!==f&&c.hasOwnProperty(f)&&(f===u?K(a,b,c[f],d+2):f===p?K(a,b,c[f],d+1):(m={},m[f]=c[f],K(a,b,{"**":m},d+1)));else c.h?K(a,b,c,m):c["*"]&&c["*"].h&&K(a,b,c["*"],m);return e}J.prototype.C=".";J.prototype.delimiter=J.prototype.C;
J.prototype.Ma=function(a){void 0!==a&&(this.a||I.call(this),this.a.v=a,this.g||(this.g={}),this.g.v=a)};J.prototype.setMaxListeners=J.prototype.Ma;J.prototype.event="";J.prototype.event=J.prototype.event;J.prototype.once=function(a,b){this.na(a,1,b);return this};J.prototype.once=J.prototype.once;J.prototype.na=function(a,b,c){function d(){--b||e.da(a,d);c.apply(this,arguments)}var e=this;if("function"!==typeof c)throw Error("many only accepts instances of Function");d.T=c;this.P(a,d);return e};
J.prototype.many=J.prototype.na;
J.prototype.D=function(a){this.a||I.call(this);var b=arguments[0];if("newListener"!==b||this.I||this.a.I){var c=arguments.length,d,e,f,g;if(this.b&&this.b.length){g=this.b.slice();if(3<c)for(d=Array(c),e=0;e<c;e++)d[e]=arguments[e];f=0;for(e=g.length;f<e;f++)switch(this.event=b,c){case 1:g[f].call(this,b);break;case 2:g[f].call(this,b,arguments[1]);break;case 3:g[f].call(this,b,arguments[1],arguments[2]);break;default:g[f].apply(this,d)}}if(this.A)g=[],K.call(this,g,"string"===typeof b?b.split(this.C):
b.slice(),this.f,0);else{g=this.a[b];if("function"===typeof g){this.event=b;switch(c){case 1:g.call(this);break;case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:d=Array(c-1);for(e=1;e<c;e++)d[e-1]=arguments[e];g.apply(this,d)}return}g&&(g=g.slice())}if(g&&g.length){if(3<c)for(d=Array(c-1),e=1;e<c;e++)d[e-1]=arguments[e];f=0;for(e=g.length;f<e;f++)switch(this.event=b,c){case 1:g[f].call(this);break;case 2:g[f].call(this,arguments[1]);break;case 3:g[f].call(this,
arguments[1],arguments[2]);break;default:g[f].apply(this,d)}}else if(!this.b&&"error"===b){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.");}}};
J.prototype.za=function(){this.a||I.call(this);var a=arguments[0];if("newListener"===a&&!this.I&&!this.a.I)return Promise.resolve([!1]);var b=[],c=arguments.length,d,e,f,g;if(this.b){if(3<c)for(d=Array(c),e=1;e<c;e++)d[e]=arguments[e];f=0;for(e=this.b.length;f<e;f++)switch(this.event=a,c){case 1:b.push(this.b[f].call(this,a));break;case 2:b.push(this.b[f].call(this,a,arguments[1]));break;case 3:b.push(this.b[f].call(this,a,arguments[1],arguments[2]));break;default:b.push(this.b[f].apply(this,d))}}this.A?
(g=[],K.call(this,g,"string"===typeof a?a.split(this.C):a.slice(),this.f,0)):g=this.a[a];if("function"===typeof g)switch(this.event=a,c){case 1:b.push(g.call(this));break;case 2:b.push(g.call(this,arguments[1]));break;case 3:b.push(g.call(this,arguments[1],arguments[2]));break;default:d=Array(c-1);for(e=1;e<c;e++)d[e-1]=arguments[e];b.push(g.apply(this,d))}else if(g&&g.length){if(3<c)for(d=Array(c-1),e=1;e<c;e++)d[e-1]=arguments[e];f=0;for(e=g.length;f<e;f++)switch(this.event=a,c){case 1:b.push(g[f].call(this));
break;case 2:b.push(g[f].call(this,arguments[1]));break;case 3:b.push(g[f].call(this,arguments[1],arguments[2]));break;default:b.push(g[f].apply(this,d))}}else if(!this.b&&"error"===a)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(b)};J.prototype.emitAsync=J.prototype.za;
J.prototype.P=function(a,b){if("function"===typeof a)return this.oa(a),this;if("function"!==typeof b)throw Error("on only accepts instances of Function");this.a||I.call(this);this.D("newListener",a,b);if(this.A){a:{a="string"===typeof a?a.split(this.C):a.slice();for(var c=0,d=a.length;c+1<d;c++)if("**"===a[c]&&"**"===a[c+1])break a;c=this.f;for(d=a.shift();void 0!==d;){c[d]||(c[d]={});c=c[d];if(0===a.length){c.h?("function"===typeof c.h&&(c.h=[c.h]),c.h.push(b),!c.h.ga&&0<this.a.v&&c.h.length>this.a.v&&
(c.h.ga=!0,ta.call(this,c.h.length,d))):c.h=b;break}d=a.shift()}}return this}this.a[a]?("function"===typeof this.a[a]&&(this.a[a]=[this.a[a]]),this.a[a].push(b),!this.a[a].ga&&0<this.a.v&&this.a[a].length>this.a.v&&(this.a[a].ga=!0,ta.call(this,this.a[a].length,a))):this.a[a]=b;return this};J.prototype.on=J.prototype.P;J.prototype.oa=function(a){if("function"!==typeof a)throw Error("onAny only accepts instances of Function");this.b||(this.b=[]);this.b.push(a);return this};J.prototype.onAny=J.prototype.oa;
J.prototype.addListener=J.prototype.P;J.prototype.addListener=J.prototype.addListener;
J.prototype.da=function(a,b){function c(a){if(void 0!==a){var b=Object.keys(a),d;for(d in b){var e=b[+d],f=a[e];f instanceof Function||"object"!==typeof f||null===f||(0<Object.keys(f).length&&c(a[e]),Object.keys(f).length||delete a[e])}}}if("function"!==typeof b)throw Error("removeListener only takes instances of Function");var d,e=[];if(this.A)e=K.call(this,null,"string"===typeof a?a.split(this.C):a.slice(),this.f,0);else{if(!this.a[a])return this;d=this.a[a];e.push({h:d})}for(var f=0;f<e.length;f++){var g=
e[f];d=g.h;if(ra(d)){for(var m=-1,p=0,u=d.length;p<u;p++)if(d[p]===b||d[p].listener&&d[p].listener===b||d[p].T&&d[p].T===b){m=p;break}if(0>m)continue;this.A?g.h.splice(m,1):this.a[a].splice(m,1);0===d.length&&(this.A?delete g.h:delete this.a[a]);this.D("removeListener",a,b);return this}if(d===b||d.listener&&d.listener===b||d.T&&d.T===b)this.A?delete g.h:delete this.a[a],this.D("removeListener",a,b)}c(this.f);return this};J.prototype.off=J.prototype.da;
J.prototype.Ea=function(a){var b,c,d;if(a&&this.b&&0<this.b.length)for(d=this.b,b=0,c=d.length;b<c;b++){if(a===d[b]){d.splice(b,1);this.D("removeListenerAny",a);break}}else{d=this.b;b=0;for(c=d.length;b<c;b++)this.D("removeListenerAny",d[b]);this.b=[]}return this};J.prototype.offAny=J.prototype.Ea;J.prototype.removeListener=J.prototype.da;J.prototype.removeListener=J.prototype.removeListener;
J.prototype.pa=function(a){if(!arguments.length)return!this.a||I.call(this),this;if(this.A)for(var b=K.call(this,null,"string"===typeof a?a.split(this.C):a&&a.slice(),this.f,0),c=0;c<b.length;c++)b[c].h=null;else this.a&&(this.a[a]=null);return this};J.prototype.removeAllListeners=J.prototype.pa;
J.prototype.ma=function(a){if(this.A){var b=[];K.call(this,b,"string"===typeof a?a.split(this.C):a.slice(),this.f,0);return b}this.a||I.call(this);this.a[a]||(this.a[a]=[]);ra(this.a[a])||(this.a[a]=[this.a[a]]);return this.a[a]};J.prototype.listeners=J.prototype.ma;J.prototype.Ba=function(a){return this.ma(a).length};J.prototype.listenerCount=J.prototype.Ba;J.prototype.Ca=function(){return this.b?this.b:[]};J.prototype.listenersAny=J.prototype.Ca;function L(){J.call(this,{v:Infinity});this.Aa=(ha++).toString(36);this.W=this.B=null;this.K=!1;G[this.id]=this;this.rendered||(H[this.id]=this)}v(L,J);L.prototype.qa=function(){return'$1 id="'+this.id+'"'};L.prototype.toString=function(){if(this.W)return this.W;var a=/^(<[^>]+)/,b=this.template().trim();if(!b.match(a))throw Error("Template needs to start with a valid tag.");return this.W=b=b.replace(/\s+/," ").replace(a,this.qa())};L.prototype.toString=L.prototype.toString;
L.prototype.$$=function(a){var b=[],c=this.el;c&&(b=[].concat(da(c.querySelectorAll(a))));return b};L.prototype.$$=L.prototype.$$;L.prototype.$=function(a){var b=null,c=this.B;c&&(b=void 0==a?c:c.querySelector(a));return b};L.prototype.$=L.prototype.$;
L.prototype.render=function(a,b){if(!this.K){if(!this.B){var c=document.getElementById(this.id);if(!c&&!a)return;if(c&&(a=c.parentElement,!b)){this.B=c;this.K=!0;this.onAfterRender();return}b=b?b:a&&a.children.length-1||-1;b=a&&a.children[b];a&&a.insertBefore(this.el,b||null);this.K=!0}this.onAfterRender()}};L.prototype.render=L.prototype.render;L.prototype.onBeforeRender=function(){};L.prototype.onAfterRender=function(){};L.prototype.template=function(){return"<div></div>"};
L.prototype.template=L.prototype.template;L.prototype.dispose=function(){delete G[this.id];delete H[this.id];this.pa();this.B&&this.B.parentNode&&this.B.parentNode.removeChild(this.B);this.B=null};L.prototype.dispose=L.prototype.dispose;
l.Object.defineProperties(L.prototype,{id:{configurable:!0,enumerable:!0,get:function(){return this.Aa}},el:{configurable:!0,enumerable:!0,get:function(){var a=this.B;a||(a=this.B=document.getElementById(this.id)||ma(this.toString()));return a}},rendered:{configurable:!0,enumerable:!0,get:function(){if(!this.K){var a=document.getElementById(this.id);a&&(this.B=a,this.K=!0,this.onAfterRender())}return this.K}}});function M(){L.call(this);this.rendered=!1}var N;v(M,L);h=M.prototype;h.render=function(a,b){a=void 0===a?document.body:a;this.index=void 0===b?0:b;L.prototype.render.call(this,a)};h.onAfterRender=function(){L.prototype.onAfterRender.call(this);this.el.style.zIndex=this.index;this.el.style.transform="translate3d(0, 0, "+this.index+"px)"};h.onActivation=function(){};h.template=function(){return"\n<view></view>\n"};h.qa=function(){return'$1 id="'+this.id+'" view'};
l.Object.defineProperties(M,{WIDTH:{configurable:!0,enumerable:!0,get:function(){if(N)return N;var a=window.getComputedStyle(document.body,null);return N=parseInt(a&&a.width||0,10)}}});M.prototype.index=0;M.prototype.supportsBackGesture=!1;M.prototype.hasSidebar=!1;function O(a){this.g=[];this.f=[];this.a=O.c.l;this.j=this.U=this.b=this.s=null;this.H=!1;a&&(this.ca=a)}function P(a){var b;a.H=!0;b=b||a.ca;if(b instanceof M)if(b.rendered)a.s=b.el;else throw Error("View Manager's root is not rendered yet");else a.s=b||document.body;a.s&&(a.s.addEventListener("touchmove",a.Ja.bind(a),!1),a.s.addEventListener("touchend",a.Ia.bind(a),!1))}h=O.prototype;
h.pull=function(a,b){this.H||P(this);!a.rendered&&this.s&&a.render(this.s,this.G+=2);var c=this.b;if(!c)return this.setCurrentView(a);if(b){this.g.push(c);var d=function(){c.el.style.transitionDuration="0s";c.el.style.transform="translate3d(-100%,-100%,0)";c.el.removeEventListener("transitionend",d)};c.el.addEventListener("transitionend",d)}else{var e=this.g.slice(0);this.g=[];setTimeout(function(){c.dispose();e.forEach(function(a){return a.dispose()})},1E3)}a.el.style.transform="translate3d(100%, 0, "+
a.index+"px)";requestAnimationFrame(function(){c.el.style.transitionDuration="0.35s";a.el.style.transform="translate3d(0, 0, "+a.index+"px)";c.el.style.transform="translate3d(-30%, 0, "+c.index+"px)";a.el.style.boxShadow="0 0 24px black"});this.b=a;this.a=O.c.l};
h.push=function(){var a=this.g.pop(),b=this.b;a&&(this.H||P(this),window.requestAnimationFrame(function(){a.el.style.transitionDuration="0s";a.el.style.transform="translate3d(-30%,0,0)";window.requestAnimationFrame(function(){a.el.style.transitionDuration="0.35s";b.el.style.transitionDuration="0.35s";a.el.style.transform="translate3d(0, 0, "+a.index+"px)";b.el.style.transform="translate3d(100%, 0, "+b.index+"px)";b.el.style.boxShadow="0 0 0 black"})}),this.b=a,a.onActivation&&a.onActivation(),setTimeout(function(){return b.dispose()},
1E3),this.a=O.c.l)};
h.setCurrentView=function(a,b){this.H||P(this);!a.rendered&&this.s&&a.render(this.s,this.G+=2);var c=this.b;b?c&&(c.el.style.transitionDuration="0s",c.el.style.transform="translate3d(100%, 0, "+c.index+"px)"):setTimeout(function(){return c&&c.dispose()},1E3);a.index=this.G+=2;this.b=a;this.b.onActivation&&this.b.onActivation();this.g.forEach(function(a){return a.dispose()});this.g=[];b="translate3d(0, 0, "+a.index+"px)";a.el.style.transitionDuration="0s";this.a==O.c.N?(b="translate3d("+(128-M.WIDTH)+
"px, 0, "+a.index+"px)",a.el.style.transform=b,Q(this,!1)):(a.el.style.zIndex=a.index,a.el.style.transform=b,this.a=O.c.l)};h.toggleSidebar=function(){this.H||P(this);Q(this,this.a==O.c.l)};
h.Ja=function(a){var b=a.changedTouches&&a.changedTouches[0].clientX||0;clearTimeout(this.U);if(this.a==O.c.l||this.a==O.c.N)this.j=b;this.a==O.c.l&&(this.f=[],this.a=O.c.ka);this.a==O.c.ka&&(50>=b?this.g.length&&this.b&&this.b.supportsBackGesture&&(this.a=O.c.aa):this.b&&this.b.hasSidebar&&(this.f.push(this.j-b),4==this.f.length&&this.f.shift(),40<this.f[2]-this.f[0]&&(this.a=O.c.S)));this.a==O.c.N&&(this.a=O.c.Z);switch(this.a){case O.c.aa:ua(this,a);break;case O.c.Z:va(this,a);break;case O.c.S:wa(this,
a)}};h.Ia=function(a){switch(this.a){case O.c.aa:xa(this,a);break;case O.c.S:a=!0;3>this.f[2]-this.f[0]&&(a=!1);Q(this,a);break;case O.c.Z:a=!0;-3>this.f[2]-this.f[0]&&(a=!1);Q(this,a);break;case O.c.N:if(qa.la.J)break;Q(this,!1);break;default:this.a=O.c.l}};
function xa(a,b){if(a.j){var c=a.g,d=a.g[a.g.length-1],e=a.b,f=b.changedTouches&&b.changedTouches[0].clientX||0,g=E(.15,.35,(M.WIDTH-f)/M.WIDTH);window.requestAnimationFrame(function(){e.el.style.transitionDuration=g+"s";d.el.style.transitionDuration=g+"s";var b="100%",p="0";if(f<M.WIDTH/2){var b="0",p="-30%",u=function(){d.el.style.transitionDuration="0s";d.el.style.transform="translate3d(-100%,-100%,0)";d.el.removeEventListener("transitionend",u)};d.el.addEventListener("transitionend",u)}else a.b=
a.g[a.g.length-1],c.pop(),d.onActivation&&d.onActivation(),setTimeout(function(){e.dispose()},1E3);e.el.style.transform="translate3d("+b+", 0, "+e.index+"px)";d.el.style.transform="translate3d("+p+", 0, "+(e.index-1)+"px)";e.el.style.boxShadow="0px 0 0px black"});a.a=O.c.l}}
function ua(a,b){if(a.g.length){b.preventDefault();var c=a.g[a.g.length-1],d=a.b,e=(b.changedTouches&&b.changedTouches[0].clientX||0)-a.j;b=M.WIDTH;var f=Math.floor(E(.3*-b,0,e/(b-a.j))),g=Math.floor(5*E(1,0,e/(b-a.j)))/5;0>e||window.requestAnimationFrame(function(){d.el.style.transitionDuration="0s";c.el.style.transitionDuration="0s";d.el.style.transform="translate3d("+e+"px, 0, "+d.index+"px)";c.el.style.transform="translate3d("+f+"px, 0, "+(d.index-1)+"px)";d.el.style.boxShadow="0px 0 24px rgba(0, 0, 0, "+
g+")"})}}function va(a,b){var c=b.changedTouches&&b.changedTouches[0].clientX||0;a.f.push(a.j-c);4==a.f.length&&a.f.shift();b.preventDefault();var d=a.b,e=c-a.j-4*M.WIDTH/5;window.requestAnimationFrame(function(){d.el.style.transitionDuration="0s";d.el.style.transform="translate3d("+e+"px, 0, "+d.index+"px)"})}
function Q(a,b){var c=a.b,d=document.querySelector("sidebar");requestAnimationFrame(function(){c.el.style.transitionDuration="0.35s";var e=128-M.WIDTH+"px",f="0",g=c.index-1+"px";b?d.style.transform="translate3d("+f+", 0, "+g+")":(e="0",f="100%",g=0,a.U=setTimeout(function(){a.a==O.c.l&&(d.style.transform="translate3d("+f+", 0, "+g+")")},1E3));c.el.style.transform="translate3d("+e+", 0, "+c.index+"px)"});a.a=b?O.c.N:O.c.l}
function wa(a,b){if(!qa.la.J){var c=b.changedTouches&&b.changedTouches[0].clientX||0;a.f.push(a.j-c);4==a.f.length&&a.f.shift();b.preventDefault();var d=document.querySelector("sidebar"),e=a.b,f=c-a.j;0<=f||(a.a=O.c.S,window.requestAnimationFrame(function(){d.style.transform="translate3d(0, 0, "+(e.index-1)+"px)";d.style.transitionDuration="0s";e.el.style.transitionDuration="0s";e.el.style.transform="translate3d("+f+"px, 0, "+e.index+"px)"}))}}
l.Object.defineProperties(O,{c:{configurable:!0,enumerable:!0,get:function(){return{l:"default",ka:"started",Z:"closingSidebar",S:"openingSidebar",N:"sidebarOpen",aa:"going"}}}});O.prototype.G=1;window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)};var R={en:{__name:"English"}},ya=R.en;function za(a,b){R[a]=b}D("setDictionary$$module$$src$lib$locale",za);function Aa(a){ya=R[a]}D("setLanguage$$module$$src$lib$locale",Aa);function S(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return(ya[a]||a).replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof c[b]?c[b]:a})}D("getLocalizedString$$module$$src$lib$locale",S);var Ba={setDictionary:za,setLanguage:Aa,getLocalizedString:S,__:S};function T(){L.call(this);this.vm=null}v(T,L);T.prototype.onSidebarItemTap=function(a){if(a=a.w&&a.w.getAttribute&&a.w.getAttribute("data-view"))this.D(T.EventType.va,{view:a}),this.vm&&this.vm.toggleSidebar()};T.prototype.template=function(){return"\n<sidebar>\n    <sidebar-items>"+this.template_items()+"</sidebar-items>\n</sidebar>\n"};T.prototype.template_items=function(){return""};
l.Object.defineProperties(T.prototype,{i:{configurable:!0,enumerable:!0,get:function(){return{L:"sidebar-item"}}},events:{configurable:!0,enumerable:!0,get:function(){var a={};return{tap:(a[this.i.L]=this.onSidebarItemTap,a)}}}});l.Object.defineProperties(T,{EventType:{configurable:!0,enumerable:!0,get:function(){return{va:"switchView"}}}});function U(){M.call(this);this.vm=null;this.views=[]}v(U,M);h=U.prototype;h.onAfterRender=function(){M.prototype.onAfterRender.call(this);var a=this.$(this.i.wa);if(!a)throw Error("TabView template must have <views>");this.vm=new O(a);this.activateItem(0)};h.onItemTap=function(a){var b=this.$(this.i.sa);b&&b==a.w||(b=this.$(this.i.ha),this.activateItem([].indexOf.call(b&&b.children,a.w)))};
h.activateItem=function(a){if(!(0>a)){this.deactivateActiveItem();var b=this.$$(this.i.L)[a];b&&b.classList.add("active");this.views&&this.views[a]&&(this.vm.setCurrentView(this.views[a],!0),this.views[a].el.classList.add("active"))}};h.activateItemByName=function(a){if(a=this.$(this.i.L+"[data-view="+a+"]")){var b=this.$(this.i.ha);this.activateItem([].indexOf.call(b&&b.children,a))}};h.deactivateActiveItem=function(){this.$$(this.i.ra).forEach(function(a){return a.classList.remove("active")})};
h.template=function(){return"\n<tab-view>\n    "+this.template_views()+"\n    <tab-bar>\n        <tab-items>\n            "+this.template_items()+"\n        </tab-items>\n    </tab-bar>\n</tab-view>\n"};h.template_views=function(){return"<views>"+this.views.join("")+"</views>"};h.template_items=function(){return""};
l.Object.defineProperties(U.prototype,{i:{configurable:!0,enumerable:!0,get:function(){return{L:"tab-item",ha:"tab-items",ra:".active",sa:"tab-items .active",Oa:"views .active",wa:"views"}}},events:{configurable:!0,enumerable:!0,get:function(){var a={};return{touchend:(a[this.i.L]=this.onItemTap.bind(this),a)}}}});function V(a){a=a?a:{hasBackButton:!1,hasMenuButton:!1,title:""};L.call(this);this.vm=null;this.ya=a}v(V,L);V.prototype.onBackButtonTap=function(){this.vm&&this.vm.push()};V.prototype.onMenuButtonTap=function(){this.vm&&this.vm.toggleSidebar()};V.prototype.template=function(){var a=this.ya,b="",c="";a.hasBackButton&&(b="<back-button></back-button>");a.hasMenuButton&&(c="<menu-button></menu-button>");return"\n<nav-bar>"+b+c+a.title+"</nav-bar>\n"};
l.Object.defineProperties(V.prototype,{i:{configurable:!0,enumerable:!0,get:function(){return{ta:"back-button",ua:"menu-button"}}},events:{configurable:!0,enumerable:!0,get:function(){var a={};return{tap:(a[this.i.ta]=this.onBackButtonTap,a[this.i.ua]=this.onMenuButtonTap,a)}}}});function W(){J.call(this,{v:Infinity});this.reset();this.o=this.c.l}v(W,J);W.prototype.reset=function(){this.o=this.c.l};W.prototype.fa=function(){this.o!=this.c.ia&&(this.o=this.c.M)};W.prototype.V=function(){return this.o==this.c.M};W.prototype.refresh=function(){this.V()&&(this.o=this.c.ia,this.D(this.EventType.SHOULD_REFRESH))};
l.Object.defineProperties(W.prototype,{c:{configurable:!0,enumerable:!0,get:function(){return{l:"default",M:"shouldCheck",ia:"refreshing"}}},EventType:{configurable:!0,enumerable:!0,get:function(){return{SHOULD_REFRESH:"refresh"}}}});function X(a){L.call(this);this.m=new W;this.EventType=this.m.EventType;this.R=this.F=this.O=this.u=null;a&&this.register(a);this.ba()}v(X,L);h=X.prototype;h.ba=function(){this.m.P(this.m.EventType.SHOULD_REFRESH,this.Ha.bind(this))};h.Ha=function(){var a=this,b=this.$(this.i.ja),c=this.$(this.i.Y);window.requestAnimationFrame(function(){a.O.style.transform="translateY("+a.height+"px)";a.O.style.transition="800ms cubic-bezier(.41,1,.1,1)";b&&(b.style.opacity=1);c&&(c.style.opacity=0);a.D(a.m.EventType.SHOULD_REFRESH)})};
h.onAfterRender=function(){L.prototype.onAfterRender.call(this);this.u||this.register(this.el.parentElement)};h.reset=function(){this.u&&(this.O.style.transform="translateY(0)",this.O.style.transition="300ms ease-out");var a=this.$(this.i.ja),b=this.$(this.i.Y);a&&(a.style.opacity=0);setTimeout(function(){b&&(b.style.opacity=1)},500);this.m.reset()};
h.register=function(a,b){a&&(this.F&&this.u.removeEventListener("scroll",this.F),this.R&&document.body.removeEventListener("touchend",this.R),this.u=a,this.O=b?b:a,this.reset(),this.F=this.ea.bind(this),this.R=this.Fa.bind(this),this.u.addEventListener("scroll",this.F),document.body.addEventListener("touchend",this.R))};
h.ea=function(a){this.m.fa();var b=0,c=-(a.target&&a.target.scrollTop||0);a=this.arrowOffset+Math.pow(c,.75);var d=this.threshold-60;c>=d&&(b=Math.min(180,3*(c-d)));if(c=this.$(this.i.Y))c.style.transform="translateY("+a+"px) rotate("+b+"deg)"};h.Fa=function(){this.u.scrollTop<-this.threshold&&this.m.refresh()};h.template=function(){return"\n<pull-to-refresh>\n    <pull-to-refresh-arrow></pull-to-refresh-arrow>\n    <pull-to-refresh-spinner></pull-to-refresh-spinner>\n</pull-to-refresh>\n"};
h.dispose=function(){this.m.dispose();this.el&&this.el.removeEventListener("scroll",this.F);document.body.removeEventListener("touchend",this.R);L.prototype.dispose.call(this)};l.Object.defineProperties(X.prototype,{i:{configurable:!0,enumerable:!0,get:function(){return{Y:"pull-to-refresh-arrow",ja:"pull-to-refresh-spinner"}}}});X.prototype.threshold=135;X.prototype.height=96;X.prototype.arrowOffset=0;function Y(){J.call(this,{v:Infinity});this.o=this.c.l}v(Y,J);Y.prototype.reset=function(){this.o=this.c.l};Y.prototype.fa=function(){this.o!=this.c.LOADING&&(this.o=this.c.M)};Y.prototype.V=function(){return this.o==this.c.M};Y.prototype.load=function(){this.V()&&(this.o=this.c.LOADING,this.D(this.EventType.SHOULD_LOAD))};
l.Object.defineProperties(Y.prototype,{c:{configurable:!0,enumerable:!0,get:function(){return{l:"default",M:"shouldCheck",LOADING:"loading"}}},EventType:{configurable:!0,enumerable:!0,get:function(){return{SHOULD_LOAD:"load"}}}});/*
 Throttle function
 https://remysharp.com/2010/07/21/throttling-function-calls

 Copyright (c) 2010 Remy Sharp
*/
function Ca(a,b){var c=0,d;return function(e){for(var f=[],g=0;g<arguments.length;++g)f[g-0]=arguments[g];var m=+new Date;c&&m<c+100?(clearTimeout(d),d=setTimeout(function(){c=m;a.apply(b,f)},100+c-m)):(c=m,a.apply(b,f))}};function Z(a){L.call(this);this.m=new Y;this.EventType=this.m.EventType;this.u=this.F=null;this.endOfListText="";this.Na=Ca(this.xa,this);a&&this.register(a);this.ba()}v(Z,L);h=Z.prototype;h.ba=function(){this.m.P(this.m.EventType.SHOULD_LOAD,this.Ga.bind(this))};h.Ga=function(){this.D(this.EventType.SHOULD_LOAD)};h.render=function(a,b){L.prototype.render.call(this,a,b);this.el||this.register(this.el.parentElement)};h.reset=function(){this.m.reset()};
h.register=function(a){a&&(this.reset(),this.u&&this.u.removeEventListener("scroll",this.F),this.u=a,this.F=this.ea.bind(this),this.u.addEventListener("scroll",this.F))};h.ea=function(){this.Na()};h.xa=function(){this.m.fa();if(this.m.V()){var a=this.u;a&&a.scrollHeight>a.offsetHeight&&a.scrollTop>a.scrollHeight-a.offsetHeight-400&&this.m.load()}};h.showSpinner=function(){this.el.classList.add("spinner");this.el.innerText="";this.reset()};
h.showEndOfList=function(){this.el.innerText=this.endOfListText;this.el.classList.remove("spinner")};h.template=function(){return"<inf-scroll></inf-scroll>"};h.dispose=function(){this.m.dispose();this.u.removeEventListener(this.F);L.prototype.dispose.call(this)};D("$jscompDefaultExport$$module$$src$index",{Component:L,ViewManager:O,View:M,locale:Ba,Sidebar:T,TabView:U,NavBar:V,PullToRefresh:X,InfiniteScroll:Z,__:Ba.__});
const erste = this.$jscompDefaultExport$$module$$src$index;if(typeof define=='function'&&define.amd){define(function(){return erste})}else if(typeof module=='object'&&typeof exports=='object'){module.exports=erste}else{window.erste=erste}}).call(null, {});

//# sourceMappingURL=erste.min.js.map
